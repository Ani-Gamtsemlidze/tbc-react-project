// products

CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255),
    description TEXT,
    ingredients JSONB,
    nutrients JSONB,
    price NUMERIC(10, 2),
    images JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255),
    description TEXT,
    ingredients JSONB,
    nutrients JSONB,
    price NUMERIC(10, 2),
    images JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

// meat products
INSERT INTO products (title, description, ingredients, nutrients, price, images)
VALUES 
(
    'Vegan Chick''n Tenders',
    'Delicious vegan chicken tenders made from soy protein with a crispy coating.',
    '{"soy protein", "wheat gluten", "vegetable oil", "spices", "salt"}',
    '{"protein": "15g", "fat": "8g", "carbohydrates": "10g", "fiber": "3g"}',
    9.99,
    '["https://example.com/vegan-chickn-tenders.jpg"]'
),
(
    'Vegan Beef Burgers',
    'Juicy vegan beef-style burgers made from a blend of plant-based proteins and savory seasonings.',
    '{"pea protein", "mushrooms", "onions", "spices", "flaxseed"}',
    '{"protein": "20g", "fat": "12g", "carbohydrates": "8g", "fiber": "5g"}',
    12.99,
    '["https://example.com/vegan-beef-burgers.jpg"]'
),
(
    'Vegan Sausages',
    'Savory vegan sausages made with a mix of beans, grains, and herbs, perfect for grilling or frying.',
    '{"kidney beans", "oats", "onions", "nutritional yeast", "smoked paprika"}',
    '{"protein": "18g", "fat": "10g", "carbohydrates": "15g", "fiber": "6g"}',
    8.49,
    '["https://example.com/vegan-sausages.jpg"]'
),
(
    'Vegan BBQ Ribs',
    'Tender vegan ribs smothered in barbecue sauce, made from seitan and jackfruit for a meaty texture.',
    '{"vital wheat gluten", "jackfruit", "barbecue sauce", "apple cider vinegar", "molasses"}',
    '{"protein": "22g", "fat": "6g", "carbohydrates": "20g", "fiber": "4g"}',
    14.99,
    '["https://example.com/vegan-bbq-ribs.jpg"]'
),
(
    'Vegan Meatballs',
    'Hearty vegan meatballs made with lentils, oats, and Italian herbs, perfect for spaghetti and meatball dishes.',
    '{"lentils", "rolled oats", "tomato paste", "garlic", "Italian seasoning"}',
    '{"protein": "12g", "fat": "4g", "carbohydrates": "18g", "fiber": "5g"}',
    10.49,
    '["https://example.com/vegan-meatballs.jpg"]'
);





// recipes
CREATE TABLE recipes (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    introduction TEXT,
    category JSONB,
    ingredients_list JSONB,
    preparation_time VARCHAR(50),
    servings VARCHAR(50),
    instructions JSONB,
    tips_and_variations TEXT,
    nutritional_information TEXT,
    storage_instructions TEXT,
    images JSONB
);

// categories

CREATE TABLE categories (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) UNIQUE NOT NULL
);

INSERT INTO categories (name) VALUES
('dinner'),
('spicy'),
('quick'),
('mushrooms'),
('salad'),
('soups'),
('dessert'),
('main course'),
('breakfast'),
('snack'),
('drinks');



// products

INSERT INTO products (title, description, ingredients, nutrients, price, images, categories)
VALUES 
    ('Vegan Burger', 'Delicious plant-based burger made with organic ingredients.', '["Quinoa", "Black Beans", "Spinach", "Tomatoes", "Avocado"]', '{"calories": 320, "protein": 12, "fat": 8, "carbohydrates": 45}', 9.99, '["https://bst393o16jrclv3y.public.blob.vercel-storage.com/products_images/meat%20alternative/Black-Bean-Vegan-Burger-Recipe-wlH4yJeNYUSUsUxT3jnkoUwVHwkcqO.jpg", "https://bst393o16jrclv3y.public.blob.vercel-storage.com/products_images/meat%20alternative/IMG_1013-2-28bYz4UXzbHvyujULAZqvsNT1t0svY.jpg", "https://bst393o16jrclv3y.public.blob.vercel-storage.com/products_images/meat%20alternative/vegan%20burger-J1b2ihdLy2qtJCTl61CmltkmzePi5K.png"]', '["Vegan Meat Alternatives"]');


INSERT INTO products (title, description, ingredients, nutrients, price, images, categories)
VALUES 
    ('Vegan Sausages', 'Savory vegan sausages made with high-quality plant-based ingredients.', '["Lentils", "Chickpeas", "Onions", "Garlic", "Herbs"]', '{"calories": 250, "protein": 15, "fat": 5, "carbohydrates": 35}', 8.99, '["https://bst393o16jrclv3y.public.blob.vercel-storage.com/products_images/meat%20alternative/2-T4sMNDVGESCGnHSMo0TNdGlyzIKSmc.jpg", "https://bst393o16jrclv3y.public.blob.vercel-storage.com/products_images/meat%20alternative/1-mdYv7yJkHgqrd4uT7yX5Jywvxl6luW.jpg", "https://bst393o16jrclv3y.public.blob.vercel-storage.com/products_images/meat%20alternative/sousage-3iPUTotVYTVQfantfW6PKBHZ1hwSb0.jpg"]', '["Vegan Meat Alternatives"]');




    ALTER TABLE users_info
ADD COLUMN firstname VARCHAR(255),
ADD COLUMN lastname VARCHAR(255),
ADD COLUMN nickname VARCHAR(255),
ADD COLUMN role BOOLEAN,
ADD COLUMN created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;




CREATE TABLE carts (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR NOT NULL REFERENCES users_info(user_id),
    product_id INTEGER NOT NULL REFERENCES products(id),
    quantity INTEGER NOT NULL CHECK (quantity > 0)
);

UPDATE products
SET images = '{"https://bst393o16jrclv3y.public.blob.vercel-storage.com/products_images/milk-alternative/vegan-mozzarella-cheese-balls-4-98U45gwvV9veF01LxhVqvy46CBK2l5.jpeg", "https://bst393o16jrclv3y.public.blob.vercel-storage.com/products_images/milk-alternative/IMG_9891-ZQGB0462BrmLPE4wFIOYHFPGYCrGul.jpg", "https://bst393o16jrclv3y.public.blob.vercel-storage.com/products_images/milk-alternative/A009450_20240409215607_1920x1920-Z89KZUTRDgdkDLzCgHaO344xnZZuVi.jpg"}'
WHERE title= 'Vegan Mozzarella Cheese';